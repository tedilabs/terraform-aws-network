# subnet-group

This module creates following resources.

- `aws_subnet`
- `aws_dax_subnet_group` (optional)
- `aws_db_subnet_group` (optional)
- `aws_dms_replication_subnet_group` (optional)
- `aws_docdb_subnet_group` (optional)
- `aws_elasticache_subnet_group` (optional)
- `aws_memorydb_subnet_group` (optional)
- `aws_neptune_subnet_group` (optional)
- `aws_redshift_subnet_group` (optional)

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.6 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | >= 5.22 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 5.22.0 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_resource_group"></a> [resource\_group](#module\_resource\_group) | tedilabs/misc/aws//modules/resource-group | ~> 0.10.0 |
| <a name="module_share"></a> [share](#module\_share) | tedilabs/account/aws//modules/ram-share | ~> 0.27.0 |

## Resources

| Name | Type |
|------|------|
| [aws_dax_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/dax_subnet_group) | resource |
| [aws_db_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_subnet_group) | resource |
| [aws_dms_replication_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/dms_replication_subnet_group) | resource |
| [aws_docdb_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/docdb_subnet_group) | resource |
| [aws_ec2_transit_gateway_vpc_attachment.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ec2_transit_gateway_vpc_attachment) | resource |
| [aws_elasticache_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/elasticache_subnet_group) | resource |
| [aws_memorydb_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/memorydb_subnet_group) | resource |
| [aws_neptune_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/neptune_subnet_group) | resource |
| [aws_redshift_subnet_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/redshift_subnet_group) | resource |
| [aws_subnet.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/subnet) | resource |
| [aws_availability_zones.available](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones) | data source |
| [aws_caller_identity.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity) | data source |
| [aws_ec2_transit_gateway.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ec2_transit_gateway) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_name"></a> [name](#input\_name) | (Required) The name of the subnet group. | `string` | n/a | yes |
| <a name="input_subnets"></a> [subnets](#input\_subnets) | (Required) A configuration of subnets to create in the subnet group. Each block of `subnets` as defined below.<br>    (Optional) `type` - The type of subnet. Valid values are `DUALSTACK` and `IPV6`. Defaults to `DUALSTACK`.<br>    (Optional) `availability_zone` - The availability zone of the subnet. If the value of `availability_zone` and `availability_zone_id` are both not provided, the subnet will be created in random availability zone.<br>    (Optional) `availability_zone_id` - The availability zone ID of the subnet. If the value of `availability_zone` and `availability_zone_id` are both not provided, the subnet will be created in random availability zone.<br>    (Optional) `ipv4_cidr` - The IPv4 CIDR block for the subnet.<br>    (Optional) `ipv6_cidr` - The IPv6 network range for the subnet, in CIDR notation. The subnet size must use a /64 prefix length. | <pre>map(object({<br>    type = optional(string, "DUALSTACK")<br><br>    availability_zone    = optional(string)<br>    availability_zone_id = optional(string)<br><br>    ipv4_cidr = optional(string)<br>    ipv6_cidr = optional(string)<br>  }))</pre> | n/a | yes |
| <a name="input_vpc_id"></a> [vpc\_id](#input\_vpc\_id) | (Required) The ID of the VPC which the subnet group belongs to. | `string` | n/a | yes |
| <a name="input_customer_owned_ipv4_address_assignment"></a> [customer\_owned\_ipv4\_address\_assignment](#input\_customer\_owned\_ipv4\_address\_assignment) | (Optional) A configuration for Customer-owned IPv4 address assignment. `customer_owned_ipv4_address_assignment` as defined below.<br>    (Optional) `enabled` - Whether to automatically request a Customer-owned IPv4 address for a new network interface in this subnet. Defaults to `false`.<br>    (Optional) `outpost` - The Amazon Resource Name (ARN) of the Outpost.<br>    (Optional) `pool` - The customer owned IPv4 address pool. | <pre>object({<br>    enabled = optional(bool, false)<br>    outpost = optional(string)<br>    pool    = optional(string)<br>  })</pre> | `{}` | no |
| <a name="input_dax_subnet_group"></a> [dax\_subnet\_group](#input\_dax\_subnet\_group) | (Optional) A configuration of DAX Subnet Group. `dax_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create DAX Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the DAX Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the DAX Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_dms_replication_subnet_group"></a> [dms\_replication\_subnet\_group](#input\_dms\_replication\_subnet\_group) | (Optional) A configuration of DMS Replication Subnet Group. `dms_replication_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create DMS Replication Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the DMS Replication Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the DMS Replication Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_dns_config"></a> [dns\_config](#input\_dns\_config) | (Optional) A configuration for DNS queries for the subnet. `dns_config` as defined below.<br>    (Optional) `hostname_type` - The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID (`RESOURCE_NAME`). For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address (`IP_NAME`) or the instance ID (`RESOURCE_NAME`). Valid values are `IP_NAME`, `RESOURCE_NAME`. Defaults to `RESOURCE_NAME`.<br>    (Optional) `dns_resource_name_ipv4_enabled` - Whether to respond to DNS queries for instance hostnames with DNS A records. Always `false` for IPv6 only subnet. Defaults to `false`.<br>    (Optional) `dns_resource_name_ipv6_enabled` - Whether to respond to DNS queries for instance hostnames with DNS AAAA records. Always `true` for IPv6 only subnet. Defaults to `false`.<br>    (Optional) `dns64_enabled` - Whether to enable DNS64 to allow IPv6-only services in Amazon VPC to communicate with IPv4-only services and networks. Defaults to `false`. | <pre>object({<br>    hostname_type                  = optional(string, "RESOURCE_NAME")<br>    dns_resource_name_ipv4_enabled = optional(bool, false)<br>    dns_resource_name_ipv6_enabled = optional(bool, false)<br>    dns64_enabled                  = optional(bool, false)<br>  })</pre> | `{}` | no |
| <a name="input_docdb_subnet_group"></a> [docdb\_subnet\_group](#input\_docdb\_subnet\_group) | (Optional) A configuration of DocumentDB Subnet Group. `docdb_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create DocumentDB Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the DocumentDB Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the DocumentDB Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_elasticache_subnet_group"></a> [elasticache\_subnet\_group](#input\_elasticache\_subnet\_group) | (Optional) A configuration of ElastiCache Subnet Group. `elasticache_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create ElastiCache Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the ElastiCache Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the ElastiCache Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_ipv6_address_assignment"></a> [ipv6\_address\_assignment](#input\_ipv6\_address\_assignment) | (Optional) A configuration for IPv6 address assignment. `ipv6_address_assignment` as defined below.<br>    (Optional) `enabled` - Whether to automatically request a IPv6 address for a new network interface in this subnet. Defaults to `false`. | <pre>object({<br>    enabled = optional(bool, false)<br>  })</pre> | `{}` | no |
| <a name="input_local_network_interface_device_index"></a> [local\_network\_interface\_device\_index](#input\_local\_network\_interface\_device\_index) | (Optional) The device position for local network interfaces in this subnet. For example, `1` indicates local network interfaces in this subnet are the secondary network interface (eth1). A local network interface cannot be the primary network interface (eth0). | `number` | `null` | no |
| <a name="input_memorydb_subnet_group"></a> [memorydb\_subnet\_group](#input\_memorydb\_subnet\_group) | (Optional) A configuration of MemoryDB Subnet Group. `memorydb_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create MemoryDB Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the MemoryDB Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the MemoryDB Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_module_tags_enabled"></a> [module\_tags\_enabled](#input\_module\_tags\_enabled) | (Optional) Whether to create AWS Resource Tags for the module informations. | `bool` | `true` | no |
| <a name="input_neptune_subnet_group"></a> [neptune\_subnet\_group](#input\_neptune\_subnet\_group) | (Optional) A configuration of Neptune Subnet Group. `neptune_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create Neptune Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the Neptune Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the Neptune Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_public_ipv4_address_assignment"></a> [public\_ipv4\_address\_assignment](#input\_public\_ipv4\_address\_assignment) | (Optional) A configuration for public IPv4 address assignment. `public_ipv4_address_assignment` as defined below.<br>    (Optional) `enabled` - Whether to automatically request a public IPv4 address for a new network interface in this subnet. Defaults to `false`. | <pre>object({<br>    enabled = optional(bool, false)<br>  })</pre> | `{}` | no |
| <a name="input_rds_subnet_group"></a> [rds\_subnet\_group](#input\_rds\_subnet\_group) | (Optional) A configuration of RDS Subnet Group. `rds_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create RDS Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the RDS Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the RDS Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_redshift_subnet_group"></a> [redshift\_subnet\_group](#input\_redshift\_subnet\_group) | (Optional) A configuration of Redshift Subnet Group. `redshift_subnet_group` as defined below.<br>    (Optional) `enabled` - Whether to create Redshift Subnet Group. Defaults to `false`.<br>    (Optional) `name` - The name of the Redshift Subnet Group. If not provided, the value of `name` will be used.<br>    (Optional) `description` - The description of the Redshift Subnet Group. | <pre>object({<br>    enabled     = optional(bool, false)<br>    name        = optional(string)<br>    description = optional(string, "Managed by Terraform.")<br>  })</pre> | `{}` | no |
| <a name="input_resource_group_description"></a> [resource\_group\_description](#input\_resource\_group\_description) | (Optional) The description of Resource Group. | `string` | `"Managed by Terraform."` | no |
| <a name="input_resource_group_enabled"></a> [resource\_group\_enabled](#input\_resource\_group\_enabled) | (Optional) Whether to create Resource Group to find and group AWS resources which are created by this module. | `bool` | `true` | no |
| <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name) | (Optional) The name of Resource Group. A Resource Group name can have a maximum of 127 characters, including letters, numbers, hyphens, dots, and underscores. The name cannot start with `AWS` or `aws`. | `string` | `""` | no |
| <a name="input_shares"></a> [shares](#input\_shares) | (Optional) A list of resource shares via RAM (Resource Access Manager). | <pre>list(object({<br>    name = optional(string)<br><br>    permissions = optional(set(string), ["AWSRAMDefaultPermissionSubnet"])<br><br>    external_principals_allowed = optional(bool, false)<br>    principals                  = optional(set(string), [])<br><br>    tags = optional(map(string), {})<br>  }))</pre> | `[]` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | (Optional) A map of tags to add to all resources. | `map(string)` | `{}` | no |
| <a name="input_timeouts"></a> [timeouts](#input\_timeouts) | (Optional) How long to wait for the subnet group to be created/deleted. | <pre>object({<br>    create = optional(string, "10m")<br>    delete = optional(string, "20m")<br>  })</pre> | `{}` | no |
| <a name="input_transit_gateway_attachments"></a> [transit\_gateway\_attachments](#input\_transit\_gateway\_attachments) | (Optional) A list of configurations for Transit Gateway VPC attachments. Each block of `transit_gateway_attachments` as defined below.<br>    (Required) `name` - The name of the Transit Gateway VPC attachment.<br>    (Required) `transit_gateway` - The ID of the Transit Gateway.<br>    (Optional) `appliance_mode_enabled` - Whether Appliance Mode support is enabled. If enabled, a traffic flow between a source and destination uses the same Availability Zone for the VPC attachment for the lifetime of that flow. Defaults to `false`.<br>    (Optional) `dns_support_enabled` - Whether to enable Domain Name System resolution for VPCs attached to this transit gateway. Defaults to `true`.<br>    (Optional) `ipv6_enabled` - Whether to enable IPv6 support. Defaults to `false`.<br>    (Optional) `default_association_route_table_enabled` - Whether to automatically associate transit gateway attachments with this transit gateway's default route table. This cannot be configured or perform drift detection with Resource Access Manager shared EC2 Transit Gateways. Defaults to `false`.<br>    (Optional) `default_propagation_route_table_enabled` - Whether to automatically propagate transit gateway attachments with this transit gateway's default route table. This cannot be configured or perform drift detection with Resource Access Manager shared EC2 Transit Gateways. Defaults to `false`.<br>    (Optional) `tags` - A map of tags to add to the vpc association. | <pre>list(object({<br>    name                                    = string<br>    transit_gateway                         = string<br>    appliance_mode_enabled                  = optional(bool, false)<br>    dns_support_enabled                     = optional(bool, true)<br>    ipv6_enabled                            = optional(bool, false)<br>    default_association_route_table_enabled = optional(bool, false)<br>    default_propagation_route_table_enabled = optional(bool, false)<br><br>    tags = optional(map(string), {})<br>  }))</pre> | `[]` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_arns"></a> [arns](#output\_arns) | A list of ARNs of subnets |
| <a name="output_availability_zone_ids"></a> [availability\_zone\_ids](#output\_availability\_zone\_ids) | A list of availability zone IDs which the subnet group uses. |
| <a name="output_availability_zones"></a> [availability\_zones](#output\_availability\_zones) | A list of availability zones which the subnet group uses. |
| <a name="output_customer_owned_ipv4_address_assignment"></a> [customer\_owned\_ipv4\_address\_assignment](#output\_customer\_owned\_ipv4\_address\_assignment) | The configuration of Customer-owned IPv4 address assignment.<br>    `enabled` - Whether to automatically assign Customer-owned IPv4 address to instances launched in the subnet group.<br>    `outpost` - The ARN of the Outpost.<br>    `pool` - The ID of the Customer-owned IPv4 address pool. |
| <a name="output_dax_subnet_group"></a> [dax\_subnet\_group](#output\_dax\_subnet\_group) | The configuration of DAX Subnet Group.<br>    `id` - The ID of the DAX Subnet Group.<br>    `name` - The name of the DAX Subnet Group.<br>    `description` - The description of the DAX Subnet Group. |
| <a name="output_dms_replication_subnet_group"></a> [dms\_replication\_subnet\_group](#output\_dms\_replication\_subnet\_group) | The configuration of DMS Replication Subnet Group.<br>    `id` - The ID of the DMS Replication Subnet Group.<br>    `arn` - The ARN of the DMS Replication Subnet Group.<br>    `name` - The name of the DMS Replication Subnet Group.<br>    `description` - The description of the DMS Replication Subnet Group. |
| <a name="output_dns_config"></a> [dns\_config](#output\_dns\_config) | The DNS configuration for the subnet group.<br>    `id` - The ID of the DAX Subnet Group. |
| <a name="output_docdb_subnet_group"></a> [docdb\_subnet\_group](#output\_docdb\_subnet\_group) | The configuration of DocumentDB Subnet Group.<br>    `id` - The ID of the DocumentDB Subnet Group.<br>    `arn` - The ARN of the DocumentDB Subnet Group.<br>    `name` - The name of the DocumentDB Subnet Group.<br>    `description` - The description of the DocumentDB Subnet Group. |
| <a name="output_elasticache_subnet_group"></a> [elasticache\_subnet\_group](#output\_elasticache\_subnet\_group) | The configuration of ElastiCache Subnet Group.<br>    `id` - The ID of the ElastiCache Subnet Group.<br>    `arn` - The ARN of the ElastiCache Subnet Group.<br>    `name` - The name of the ElastiCache Subnet Group.<br>    `description` - The description of the ElastiCache Subnet Group. |
| <a name="output_ids"></a> [ids](#output\_ids) | A list of IDs of subnets |
| <a name="output_ipv4_cidrs"></a> [ipv4\_cidrs](#output\_ipv4\_cidrs) | The IPv4 CIDR blocks of the subnet group. |
| <a name="output_ipv6_address_assignment"></a> [ipv6\_address\_assignment](#output\_ipv6\_address\_assignment) | The configuration of IPv6 address assignment.<br>    `enabled` - Whether to automatically assign IPv6 address to instances launched in the subnet group. |
| <a name="output_ipv6_cidrs"></a> [ipv6\_cidrs](#output\_ipv6\_cidrs) | The IPv6 CIDR blocks of the subnet group. |
| <a name="output_local_network_interface_device_index"></a> [local\_network\_interface\_device\_index](#output\_local\_network\_interface\_device\_index) | The device position for local network interfaces in this subnet. |
| <a name="output_memorydb_subnet_group"></a> [memorydb\_subnet\_group](#output\_memorydb\_subnet\_group) | The configuration of MemoryDB Subnet Group.<br>    `id` - The ID of the MemoryDB Subnet Group.<br>    `arn` - The ARN of the MemoryDB Subnet Group.<br>    `name` - The name of the MemoryDB Subnet Group.<br>    `description` - The description of the MemoryDB Subnet Group. |
| <a name="output_name"></a> [name](#output\_name) | The name of the subnet group. |
| <a name="output_neptune_subnet_group"></a> [neptune\_subnet\_group](#output\_neptune\_subnet\_group) | The configuration of Neptune Subnet Group.<br>    `id` - The ID of the Neptune Subnet Group.<br>    `arn` - The ARN of the Neptune Subnet Group.<br>    `name` - The name of the Neptune Subnet Group.<br>    `description` - The description of the Neptune Subnet Group. |
| <a name="output_owner"></a> [owner](#output\_owner) | The ID of the AWS account that owns subnets in the subnet group. |
| <a name="output_public_ipv4_address_assignment"></a> [public\_ipv4\_address\_assignment](#output\_public\_ipv4\_address\_assignment) | The configuration of public IPv4 address assignment.<br>    `enabled` - Whether to automatically assign public IPv4 address to instances launched in the subnet group. |
| <a name="output_rds_subnet_group"></a> [rds\_subnet\_group](#output\_rds\_subnet\_group) | The configuration of RDS Subnet Group.<br>    `id` - The ID of the RDS Subnet Group.<br>    `arn` - The ARN of the RDS Subnet Group.<br>    `name` - The name of the RDS Subnet Group.<br>    `description` - The description of the RDS Subnet Group. |
| <a name="output_redshift_subnet_group"></a> [redshift\_subnet\_group](#output\_redshift\_subnet\_group) | The configuration of Redshift Subnet Group.<br>    `id` - The ID of the Redshift Subnet Group.<br>    `arn` - The ARN of the Redshift Subnet Group.<br>    `name` - The name of the Redshift Subnet Group.<br>    `description` - The description of the Redshift Subnet Group. |
| <a name="output_sharing"></a> [sharing](#output\_sharing) | The configuration for sharing of subnets in the subnet group.<br>    `status` - An indication of whether subnets are shared with other AWS accounts, or was shared with the current account by another AWS account. Sharing is configured through AWS Resource Access Manager (AWS RAM). Values are `NOT_SHARED`, `SHARED_BY_ME` or `SHARED_WITH_ME`.<br>    `shares` - The list of resource shares via RAM (Resource Access Manager). |
| <a name="output_subnets"></a> [subnets](#output\_subnets) | A list of subnets of the subnet group. |
| <a name="output_subnets_by_az"></a> [subnets\_by\_az](#output\_subnets\_by\_az) | A map of subnets of the subnet group which are grouped by availability zone id. |
| <a name="output_transit_gateway_attachments"></a> [transit\_gateway\_attachments](#output\_transit\_gateway\_attachments) | The configuration of Transit Gateway VPC attachments. |
| <a name="output_vpc_id"></a> [vpc\_id](#output\_vpc\_id) | The ID of the VPC which the subnet group belongs to. |
<!-- END_TF_DOCS -->
